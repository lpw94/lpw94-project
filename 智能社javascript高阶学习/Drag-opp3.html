<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>拖拽-面向对象学习</title>
		<style type="text/css">
			#div1{width: 200px;height: 200px;background-color: yellow;position: absolute;}
		</style>
		<script type="text/javascript">
		
		
		
window.onload = function(){
	new Drag("div1");
}


function Drag(id){
	this.disX = 0;
	this.disY = 0;
	var _this = this;
	this.oDiv = document.getElementById(id);
	
	this.oDiv.onmousedown = function(){
		_this.Dragdown(ev);
	} 
	
}
Drag.prototype.Dragdown = function (ev){
		var oEvent = ev||event;
		var _this = this;
		this.disX = oEvent.clientX - this.oDiv.offsetLeft;
		this.disY = oEvent.clientY - this.oDiv.offsetTop;
		
		document.onmousemove = function(){
			_this.Dragmove(ev);
		} 
		
		document.onmouseup = function(){
			_this.Dragup();
		} 
	}
Drag.prototype.Dragmove = function (ev){
			var oEvent = ev||event;
			var _this = this;
			this.oDiv.style.left = oEvent.clientX - this.disX + "px";
			this.oDiv.style.top = oEvent.clientY -this.disY + "px";
			
		}
Drag.prototype.Dragup = function (){
			document.onmousemove = null;
			document.onmouseup = null;
			
		}
		</script>
	</head>
	<body>
		<div id="div1"></div>
	</body>		
</html>
